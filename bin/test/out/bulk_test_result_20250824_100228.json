{
  "testInfo" : {
    "timestamp" : "2025-08-24 10:02:28",
    "directory" : "/home/ec2-user/workspace/src-orcl/src/main/resources/sqlmap/mapper/",
    "databaseType" : "ORACLE",
    "totalTests" : 76,
    "successCount" : 75,
    "failureCount" : 1,
    "successRate" : "98.7"
  },
  "successfulTests" : [ {
    "xmlFile" : "PromotionMapper.xml",
    "sqlId" : "selectPromotionEffectivenessAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 4
  }, {
    "xmlFile" : "PromotionMapper.xml",
    "sqlId" : "selectCouponUsagePatternAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 4
  }, {
    "xmlFile" : "PromotionMapper.xml",
    "sqlId" : "selectPromotionABTestAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 4
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserList",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserCount",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserDetail",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserActivityStats",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserOrderHistory",
    "sqlType" : "SELECT",
    "rowCount" : 2
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserRegistrationTrend",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserGradeStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 3
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserHierarchyStats",
    "sqlType" : "SELECT",
    "rowCount" : 16
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserBehaviorPattern",
    "sqlType" : "SELECT",
    "rowCount" : 500
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserDemographicStats",
    "sqlType" : "SELECT",
    "rowCount" : 5
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserLifecycleAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 500
  }, {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectUserReferralHierarchy",
    "sqlType" : "SELECT",
    "rowCount" : 500
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectSalesDashboard",
    "sqlType" : "SELECT",
    "rowCount" : 234
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectCustomerBehaviorAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectRevenueTrend",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectProductRevenueAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 10
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectCategoryRevenueAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 18
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectCustomerSegmentAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 3
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectRegionalRevenueAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectHourlyOrderPattern",
    "sqlType" : "SELECT",
    "rowCount" : 23
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectWeeklyOrderPattern",
    "sqlType" : "SELECT",
    "rowCount" : 7
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectMonthlyGrowthRate",
    "sqlType" : "SELECT",
    "rowCount" : 8
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectCohortAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "AnalyticsMapper.xml",
    "sqlId" : "selectRFMAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 500
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderListWithAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderProcessingTimeAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 2
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectCustomerOrderPatternAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderStatusStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 6
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderTrendAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectPaymentMethodStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderCount",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderDetail",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderItems",
    "sqlType" : "SELECT",
    "rowCount" : 5
  }, {
    "xmlFile" : "OrderMapper.xml",
    "sqlId" : "selectOrderShippingInfo",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "ShippingMapper.xml",
    "sqlId" : "selectShippingPerformanceAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "ShippingMapper.xml",
    "sqlId" : "selectShippingDelayPatternAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "ShippingMapper.xml",
    "sqlId" : "selectShippingRouteOptimizationAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentAnalyticsDashboard",
    "sqlType" : "SELECT",
    "rowCount" : 8
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentFailurePatternAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentMethodPerformanceAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentList",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentCount",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentDetail",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentMethodStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentStatusStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 3
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectDailyPaymentTrend",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentFailureAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectRefundStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "PaymentMapper.xml",
    "sqlId" : "selectPaymentProcessingTimeAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "ProductAdvancedMapper.xml",
    "sqlId" : "selectPriceHistoryAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 760
  }, {
    "xmlFile" : "ProductAdvancedMapper.xml",
    "sqlId" : "selectProductLifecycleAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 760
  }, {
    "xmlFile" : "ProductAdvancedMapper.xml",
    "sqlId" : "selectInventoryForecastAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1300
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectCategoryHierarchy",
    "sqlType" : "SELECT",
    "rowCount" : 23
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductList",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductCount",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductDetail",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductPerformanceAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductRecommendations",
    "sqlType" : "SELECT",
    "rowCount" : 10
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectBrandStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 31
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectCategoryStatistics",
    "sqlType" : "SELECT",
    "rowCount" : 23
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductInventoryStatus",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "ProductMapper.xml",
    "sqlId" : "selectProductPriceHistory",
    "sqlType" : "SELECT",
    "rowCount" : 2
  }, {
    "xmlFile" : "SellerMapper.xml",
    "sqlId" : "selectSellerPerformanceAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 100
  }, {
    "xmlFile" : "SellerMapper.xml",
    "sqlId" : "selectSellerProductPortfolioAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 100
  }, {
    "xmlFile" : "CustomerServiceMapper.xml",
    "sqlId" : "selectCustomerServicePerformanceAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 15
  }, {
    "xmlFile" : "CustomerServiceMapper.xml",
    "sqlId" : "selectCustomerInquiryPatternAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 5
  }, {
    "xmlFile" : "CustomerServiceMapper.xml",
    "sqlId" : "selectCustomerSatisfactionAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 1
  }, {
    "xmlFile" : "CustomerServiceMapper.xml",
    "sqlId" : "selectCustomerSupportEscalationChain",
    "sqlType" : "SELECT",
    "rowCount" : 85
  }, {
    "xmlFile" : "InventoryMapper.xml",
    "sqlId" : "selectInventoryStatusAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  }, {
    "xmlFile" : "InventoryMapper.xml",
    "sqlId" : "selectWarehouseInventoryAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 100
  }, {
    "xmlFile" : "InventoryMapper.xml",
    "sqlId" : "selectInventoryMovementTracking",
    "sqlType" : "SELECT",
    "rowCount" : 1075
  }, {
    "xmlFile" : "InventoryMapper.xml",
    "sqlId" : "selectInventoryOptimizationAnalysis",
    "sqlType" : "SELECT",
    "rowCount" : 0
  } ],
  "failedTests" : [ {
    "xmlFile" : "UserMapper.xml",
    "sqlId" : "selectDormantUserAnalysis",
    "sqlType" : "SELECT",
    "errorMessage" : "\n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\n\n### The error may exist in file:///tmp/mapper-3731014088395442792.xml\n### The error may involve amzn.bo.mapper.UserMapper.selectDormantUserAnalysis-Inline\n### The error occurred while setting parameters\n### SQL: SELECT              u.USER_ID,             u.EMAIL,             u.FIRST_NAME || ' ' || u.LAST_NAME as FULL_NAME,             u.CREATED_AT as REGISTRATION_DATE,             dormant_stats.LAST_ORDER_DATE,             dormant_stats.DAYS_DORMANT,             dormant_stats.TOTAL_ORDERS,             dormant_stats.TOTAL_SPENT,             dormant_stats.AVG_ORDER_VALUE,             dormant_stats.FAVORITE_CATEGORY,             dormant_stats.LAST_VIEWED_PRODUCT,             dormant_stats.REACTIVATION_PROBABILITY,             dormant_stats.RECOMMENDED_INCENTIVE,             RANK() OVER (ORDER BY dormant_stats.REACTIVATION_PROBABILITY DESC, dormant_stats.TOTAL_SPENT DESC) as REACTIVATION_PRIORITY         FROM USERS u,              (SELECT                  o.USER_ID,                 MAX(o.ORDERED_AT) as LAST_ORDER_DATE,                 TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) as DAYS_DORMANT,                 COUNT(*) as TOTAL_ORDERS,                 SUM(o.TOTAL_AMOUNT) as TOTAL_SPENT,                 AVG(o.TOTAL_AMOUNT) as AVG_ORDER_VALUE,                 -- 가장 많이 구매한 카테고리                 (SELECT c.CATEGORY_NAME                   FROM (SELECT p.CATEGORY_ID, COUNT(*) as cnt                        FROM ORDER_ITEMS oi, PRODUCTS p                        WHERE oi.PRODUCT_ID = p.PRODUCT_ID                        AND oi.ORDER_ID IN (SELECT ORDER_ID FROM ORDERS WHERE USER_ID = o.USER_ID)                        GROUP BY p.CATEGORY_ID                        ORDER BY cnt DESC                        FETCH FIRST 1 ROWS ONLY) top_cat, CATEGORIES c                  WHERE top_cat.CATEGORY_ID = c.CATEGORY_ID) as FAVORITE_CATEGORY,                 -- 마지막으로 본 상품                 (SELECT p.PRODUCT_NAME                  FROM PRODUCT_VIEWS pv, PRODUCTS p                  WHERE pv.PRODUCT_ID = p.PRODUCT_ID                  AND pv.USER_ID = o.USER_ID                  AND pv.VIEWED_AT = (SELECT MAX(VIEWED_AT) FROM PRODUCT_VIEWS WHERE USER_ID = o.USER_ID)) as LAST_VIEWED_PRODUCT,                 -- 재활성화 확률 계산                                   CASE                      WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) BETWEEN 90 AND 180 AND COUNT(*) >= 3 THEN 75                     WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) BETWEEN 90 AND 180 AND COUNT(*) >= 1 THEN 60                     WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) BETWEEN 181 AND 365 AND SUM(o.TOTAL_AMOUNT) >= 500 THEN 45                     WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) BETWEEN 181 AND 365 THEN 30                     WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) > 365 AND SUM(o.TOTAL_AMOUNT) >= 1000 THEN 25                     ELSE 15                 END as REACTIVATION_PROBABILITY,                                   -- 추천 인센티브                                   CASE                      WHEN AVG(o.TOTAL_AMOUNT) >= 200 THEN 'PREMIUM_DISCOUNT'                     WHEN COUNT(*) >= 5 THEN 'LOYALTY_BONUS'                     WHEN TRUNC(SYSDATE) - TRUNC(MAX(o.ORDERED_AT)) > 365 THEN 'WELCOME_BACK_OFFER'                     ELSE 'STANDARD_COUPON'                 END as RECOMMENDED_INCENTIVE                                 FROM ORDERS o               WHERE o.ORDER_STATUS NOT IN ('CANCELLED', 'REFUNDED')                 AND TRUNC(SYSDATE) - TRUNC(o.ORDERED_AT) >= ?                 GROUP BY o.USER_ID                 HAVING MAX(o.ORDERED_AT) < SYSDATE - ?) dormant_stats,                CATEGORIES c         WHERE u.USER_ID = dormant_stats.USER_ID         AND dormant_stats.FAVORITE_CATEGORY = c.CATEGORY_ID(+)                         AND dormant_stats.REACTIVATION_PROBABILITY >= ?                     ORDER BY REACTIVATION_PRIORITY\n### Cause: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\n"
  } ],
  "fileStatistics" : [ {
    "fileName" : "ShippingMapper.xml",
    "totalTests" : 3,
    "successCount" : 3,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "PromotionMapper.xml",
    "totalTests" : 3,
    "successCount" : 3,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "UserMapper.xml",
    "totalTests" : 13,
    "successCount" : 12,
    "failureCount" : 1,
    "successRate" : "92.3"
  }, {
    "fileName" : "SellerMapper.xml",
    "totalTests" : 2,
    "successCount" : 2,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "AnalyticsMapper.xml",
    "totalTests" : 12,
    "successCount" : 12,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "InventoryMapper.xml",
    "totalTests" : 4,
    "successCount" : 4,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "ProductMapper.xml",
    "totalTests" : 10,
    "successCount" : 10,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "ProductAdvancedMapper.xml",
    "totalTests" : 3,
    "successCount" : 3,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "OrderMapper.xml",
    "totalTests" : 10,
    "successCount" : 10,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "CustomerServiceMapper.xml",
    "totalTests" : 4,
    "successCount" : 4,
    "failureCount" : 0,
    "successRate" : "100.0"
  }, {
    "fileName" : "PaymentMapper.xml",
    "totalTests" : 12,
    "successCount" : 12,
    "failureCount" : 0,
    "successRate" : "100.0"
  } ]
}